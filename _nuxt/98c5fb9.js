(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{462:function(t,e,r){"use strict";r.r(e);var o=r(6),n=(r(40),r(73),r(36),r(13),r(64),r(65),r(56),{data:function(){return{onError:null,myCourses:[],myCourseCredit:0,myCourseHours:0}},head:function(){return{title:"我的課程"}},computed:{year:function(){return this.$store.state.year},sem:function(){return this.$store.state.sem},department:function(){return this.$store.state.department}},watch:{year:function(t,e){this.getMyCourse()},sem:function(t,e){this.getMyCourse()},department:function(t,e){this.getMyCourse()}},created:function(){this.getMyCourse()},methods:{getMyCourse:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,n,c,l,v,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$store.state,o=r.year,n=r.sem,c=r.department,l="my-couse-data-".concat(o,"-").concat(n),"main"!=c&&(l+="-".concat(c)),v=JSON.parse(localStorage[l]||"[]"),e.next=6,t.$fetchCourse(o,n,c);case 6:d=e.sent,t.myCourses=d.filter((function(t){return v.includes(t.id)})),t.myCourseCredit=t.myCourses.map((function(t){return t.credit})).map(parseFloat).reduce((function(a,b){return a+b})),t.myCourseHours=t.myCourses.map((function(t){return t.hours})).map(parseFloat).reduce((function(a,b){return a+b}));case 10:case"end":return e.stop()}}),e)})))()},exportData:function(){var t=this.$store.state,e=t.year,r=t.sem,o="my-couse-data-".concat(e,"-").concat(r),n="my-couse-class-".concat(e,"-").concat(r),c=JSON.stringify({key:o,data:localStorage[o],classKey:n,classData:localStorage[n]});prompt("請複製以下資料：",c)},importData:function(){var t=prompt("請貼上先前複製的資料：");if(t){var e=JSON.parse(t),r=e.key,data=e.data,o=e.classKey,n=e.classData;localStorage[r]=data,localStorage[o]=n,this.$vs.notification({title:"匯入完成！",text:"已匯入 ".concat(JSON.parse(localStorage[r]).length," 筆課程到我的課程")}),this.getMyCourse()}}}}),c=r(35),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.myCourses.length?r("vs-alert",{key:"notice",scopedSlots:t._u([{key:"title",fn:function(){return[t._v("提醒")]},proxy:!0}],null,!1,2822363135)},[t._v("\n    請注意，本資料僅儲存在瀏覽器中，可能會隨時消失！\n  ")]):t._e(),t._v(" "),r("div",{staticClass:"lr-container nowrap"},[t._m(0),t._v(" "),r("div",{staticClass:"r"},[r("vs-button",{attrs:{flat:""},on:{click:t.exportData}},[r("i",{staticClass:"bx bxs-file-export"}),t._v("匯出 ")]),t._v(" "),r("vs-button",{attrs:{flat:""},on:{click:t.importData}},[r("i",{staticClass:"bx bxs-file-import"}),t._v("匯入 ")])],1)]),t._v(" "),r("p",{staticStyle:{"margin-top":"-1em"}},[t._v("你可以在這裡儲存一些課程供未來選課時參考用，在此處的課程會與其他課程比對並顯示是否衝堂。")]),t._v(" "),t.myCourses.length?t._e():r("vs-alert",{key:"noCourses",scopedSlots:t._u([{key:"title",fn:function(){return[t._v("尚未儲存任何課程")]},proxy:!0}],null,!1,3319223312)},[t._v("\n    你可以在班級頁面或是課程頁面右上方找到「加入我的課程」按鈕！\n    "),r("br"),t._v("若這裡沒有先前加入的課程，可能是選擇了錯誤的資料集，請嘗試於右上按鈕切換資料集。\n  ")]),t._v(" "),r("h3",{directives:[{name:"show",rawName:"v-show",value:t.myCourses.length,expression:"myCourses.length"}]},[t._v("建議")]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.myCourses.length,expression:"myCourses.length"}],staticClass:"cards",staticStyle:{"--card-row":"3","--card-row-sm":"2"}},[r("card",{staticClass:"hoverable padding",attrs:{to:"/widget?year="+t.$store.state.year}},[r("card-title",[t._v("iOS 小工具")]),t._v(" "),r("p",[t._v("在桌面上檢視接下來的課程")]),t._v(" "),r("i",{staticClass:"bx bx-extension"})],1),t._v(" "),r("card",{staticClass:"hoverable padding",attrs:{to:"/add-calendar?year="+t.$store.state.year}},[r("card-title",[t._v("新增到行事曆")]),t._v(" "),r("p",[t._v("將我的課程匯入至行事曆")]),t._v(" "),r("i",{staticClass:"bx bx-calendar"})],1)],1),t._v(" "),r("h3",{directives:[{name:"show",rawName:"v-show",value:t.myCourses.length,expression:"myCourses.length"}]},[t._v("課程")]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.myCourses.length,expression:"myCourses.length"}],staticClass:"cards",staticStyle:{"--card-row":"3","--card-row-sm":"3"}},[r("card",[r("card-title",[t._v(t._s(t.myCourseCredit))]),t._v(" "),r("p",[t._v("學分")]),t._v(" "),r("i",{staticClass:"bx bx-book"})],1),t._v(" "),r("card",[r("card-title",[t._v(t._s(t.myCourseHours))]),t._v(" "),r("p",[t._v("時數")]),t._v(" "),r("i",{staticClass:"bx bx-time"})],1),t._v(" "),r("card",[r("card-title",[t._v(t._s(t.myCourses.length))]),t._v(" "),r("p",[t._v("課程數")]),t._v(" "),r("i",{staticClass:"bx bx-category-alt"})],1)],1),t._v(" "),t.myCourses.length?r("parse-courses",{attrs:{courses:t.myCourses,showTimetable:""}}):t._e(),t._v(" "),r("h3",[t._v("贊助商廣告")]),t._v(" "),r("adsbygoogle")],1)}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"l"},[r("h1",[t._v("我的課程")])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{CardTitle:r(360).default,Card:r(357).default,ParseCourses:r(378).default})}}]);