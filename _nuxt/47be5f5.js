(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{398:function(t,e,n){var content=n(443);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(55).default)("b8c0662e",content,!0,{sourceMap:!1})},442:function(t,e,n){"use strict";n(398)},443:function(t,e,n){var o=n(54)(!1);o.push([t.i,"#scriptable-code[data-v-cbf295e8]{width:100%;height:512px;overflow-x:hidden;overflow-y:scroll;overflow:hidden scroll}.demo-video[data-v-cbf295e8]{height:700px;max-width:100%;margin:0 auto;display:block;border-radius:16px;box-shadow:0 0 16px rgba(0,0,0,.05)}",""]),t.exports=o},469:function(t,e,n){"use strict";n.r(e);var o=n(6),r=(n(73),n(56),n(36),n(13),n(64),n(65),n(41),n(115),n(40),{head:function(){return{title:"iOS å°å·¥å…·"}},data:function(){return{courseData:[]}},created:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMyCourse();case 2:case"end":return e.stop()}}),e)})))()},methods:{getMyCourse:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,c,l,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$store.state,o=n.year,r=n.sem,c=n.department,l="my-couse-data-".concat(o,"-").concat(r),"main"!=c&&(l+="-".concat(c)),d=JSON.parse(localStorage[l]||"[]"),e.next=6,t.$fetchCourse(o,r,c);case 6:m=e.sent,t.courseData=m.filter((function(t){return d.includes(t.id)})).map((function(t){return{name:t.name.zh,time:t.time,classroom:t.classroom.map((function(t){return t.name})).join("ã€").trimEllip(13),link:"https://ntut-course.gnehs.net/course/".concat(o,"/").concat(r,"/").concat(t.id)}}));case 8:case"end":return e.stop()}}),e)})))()},doCopy:function(){var t=this;try{window.gtag("event","copy_ios_widget_code")}catch(t){}this.$copyText(this.$refs["scriptable-code"].textContent).then((function(e){t.$vs.notification({title:"å·²è¤‡è£½",text:"è«‹åˆ° Scriptable è²¼ä¸Šç¨‹å¼ç¢¼å³å¯ä½¿ç”¨å°å·¥å…·"})}),(function(e){t.$vs.notification({title:"è¤‡è£½å¤±æ•—",color:"danger",text:"è«‹å˜—è©¦æ‰‹å‹•è¤‡è£½"})}))}}}),c=(n(442),n(35)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("iOS å°å·¥å…·")]),t._v(" "),n("p",[t._v("æ–°å¢å°å·¥å…·åœ¨ä½ çš„æ¡Œé¢ä¸Šï¼Œéš¨æ™‚æª¢è¦–æ¥ä¸‹ä¾†çš„èª²ç¨‹ï¼")]),t._v(" "),n("p",[t._v("æ³¨æ„ï¼šå¦‚æœä½ è®Šæ›´äº†èª²ç¨‹ï¼Œéœ€è¦é‡æ–°è¤‡è£½ç¨‹å¼ç¢¼æ‰èƒ½è®“å°å·¥å…·ä½¿ç”¨æœ€æ–°çš„èª²ç¨‹è³‡æ–™ï¼")]),t._v(" "),t.courseData.length?t._e():n("vs-alert",{attrs:{color:"danger"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("æ²’æœ‰èª²ç¨‹è³‡æ–™")]},proxy:!0}],null,!1,1917420833)},[t._v("\n      è«‹å…ˆæ–°å¢èª²ç¨‹è³‡æ–™\n    ")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),n("p",[t._v("å»ºç«‹ä¸€å€‹ Script ä¸¦è²¼ä¸Šä»¥ä¸‹ç¨‹å¼ç¢¼")]),t._v(" "),n("div",{staticClass:"white-box",staticStyle:{position:"relative"}},[n("div",{staticStyle:{position:"absolute",right:"0"}},[n("vs-button",{on:{click:t.doCopy}},[n("i",{staticClass:"bx bx-clipboard"}),t._v("è¤‡è£½\n        ")])],1),t._v(" "),n("pre",{ref:"scriptable-code",attrs:{id:"scriptable-code"}},[t._v("const courseData = "+t._s(JSON.stringify(t.courseData))+"\nfunction getUpcomingCourse() {\n    let currentDate = new Date()\n    let timetable = {\n        '1': '8:10',\n        '2': '9:10',\n        '3': '10:10',\n        '4': '11:10',\n        N: '12:10',\n        '5': '13:10',\n        '6': '14:10',\n        '7': '15:10',\n        '8': '16:10',\n        '9': '17:10',\n        A: '18:30',\n        B: '19:20',\n        C: '20:20',\n        D: '21:10'\n    }\n    let dateEng2zh = { sun: 'é€±æ—¥', mon: 'é€±ä¸€', tue: 'é€±äºŒ', wed: 'é€±ä¸‰', thu: 'é€±å››', fri: 'é€±äº”', sat: 'é€±å…­' }\n    // show upcoming course\n    let upcomingCourseIncludes = Object.entries(timetable)\n        .filter(([courseId, courseTime]) => {\n            let tempDate = new Date()\n            tempDate.setHours(courseTime.split(':')[0], courseTime.split(':')[1], 0)\n            return tempDate > currentDate\n        })\n        .map(x => x[0])\n    let todayDayOfWeek = Object.keys(dateEng2zh)[currentDate.getDay()]\n    return courseData\n        .filter(x => x.time[todayDayOfWeek].some(r => upcomingCourseIncludes.includes(r))).map(x => ({\n            ...x,\n            start: timetable[x.time[todayDayOfWeek][0]],\n            length: x.time[todayDayOfWeek].length,\n        }))\n        .sort((a, b) => a.time[todayDayOfWeek][0] - b.time[todayDayOfWeek][0])\n}\nfunction createWidget() {\n    let gradient = new LinearGradient()\n    gradient.locations = [0, 1]\n    gradient.colors = [\n        new Color(\"292929\"),\n        new Color(\"141414\")\n    ]\n\n    let widget = new ListWidget()\n    widget.backgroundGradient = gradient\n\n    let titleTxt = widget.addText('æ¥ä¸‹ä¾†çš„èª²ç¨‹')\n    titleTxt.textColor = Color.white()\n    titleTxt.textOpacity = 0.7\n    titleTxt.font = Font.mediumSystemFont(13)\n\n    widget.addSpacer(7)\n    let upcomingCourse = getUpcomingCourse()\n    if (upcomingCourse.length) {\n        let course = upcomingCourse[0]\n        let courseTxt = widget.addText(course.name)\n        courseTxt.textColor = Color.white()\n        courseTxt.font = Font.boldSystemFont(16)\n\n        widget.addSpacer(2)\n        if (course.classroom != '') {\n            let classTxt = widget.addText(course.classroom)\n            classTxt.textColor = Color.white()\n            classTxt.font = Font.systemFont(13)\n        }\n        let summaryTxt = widget.addText(`æ–¼ ${course.start} é–‹å§‹ï¼Œå…± ${course.length} ç¯€`)\n        summaryTxt.textColor = Color.white()\n        summaryTxt.font = Font.systemFont(13)\n        if (config.runsWithSiri) {\n            Speech.speak(` ä½ åœ¨ ${course.start} æœ‰ä¸€å ‚ ${course.name}`)\n        } else {\n            widget.addSpacer()\n            // Add button to open course detail\n            let linkSymbol = SFSymbol.named(\"arrow.up.forward.square\")\n            let footerStack = widget.addStack()\n            let linkStack = footerStack.addStack()\n            linkStack.centerAlignContent()\n            linkStack.url = course.link\n            let linkElement = linkStack.addText(\"è©³ç´°è³‡æ–™\")\n            linkElement.font = Font.mediumSystemFont(13)\n            linkElement.textColor = Color.blue()\n            linkStack.addSpacer(3)\n            let linkSymbolElement = linkStack.addImage(linkSymbol.image)\n            linkSymbolElement.imageSize = new Size(13, 13)\n            linkSymbolElement.tintColor = Color.blue()\n            footerStack.addSpacer()\n            // Add link to open course detail\n            let iconElement = footerStack.addText(\"ğŸ¤\")\n            iconElement.textOpacity = 0.5\n            iconElement.font = Font.mediumSystemFont(13)\n            iconElement.url = `http://ntut-course.gnehs.net/`\n        }\n    } else {\n        let courseTxt = widget.addText('æ²’æœ‰èª²ç¨‹')\n        courseTxt.textColor = Color.white()\n        courseTxt.font = Font.boldSystemFont(18)\n        if (config.runsWithSiri) {\n            Speech.speak(` å¥½æ£’ï¼Œä½ ä»Šå¤©æ²’èª²äº†`)\n        }\n    }\n    // add footer\n    if (config.runsWithSiri || !upcomingCourse.length) {\n        widget.addSpacer()\n        let footerStack = widget.addStack()\n        let providerText = footerStack.addText(\"ğŸ¤ åŒ—ç§‘èª²ç¨‹å¥½æœ‹å‹\")\n        providerText.textColor = Color.white()\n        providerText.textOpacity = 0.7\n        providerText.font = Font.mediumSystemFont(13)\n        footerStack.url = `http://ntut-course.gnehs.net/`\n    }\n    return widget\n}\n\nlet widget = createWidget()\nif (config.runsInWidget) {\n    Script.setWidget(widget)\n} else {\n    widget.presentMedium()\n}\nScript.complete()\n")])]),t._v(" "),t._m(5),t._v(" "),n("p",[t._v("åƒè€ƒæ­¤å½±ç‰‡å»ºç«‹ä½ çš„å°å·¥å…·")]),t._v(" "),t._m(6)],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",[n("span",{staticStyle:{color:"rgb(var(--vs-primary))"}},[t._v("Step 0")]),t._v(" åŠ å…¥èª²ç¨‹\n    ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("\n      è«‹å…ˆå°‡ä½ æœ¬å­¸æœŸçš„èª²ç¨‹æ–°å¢åˆ°\n      "),n("strong",[t._v("åŒ—ç§‘èª²ç¨‹å¥½æœ‹å‹")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",[n("span",{staticStyle:{color:"rgb(var(--vs-primary))"}},[t._v("Step 1")]),t._v(" å®‰è£ Scriptable\n    ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("\n      åˆ° App Store å®‰è£\n      "),n("a",{attrs:{href:"https://apps.apple.com/tw/app/scriptable/id1405459188",target:"_blank"}},[t._v("Scriptable")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",[n("span",{staticStyle:{color:"rgb(var(--vs-primary))"}},[t._v("Step 2")]),t._v(" è¤‡è£½ä¸¦è²¼ä¸Šç¨‹å¼ç¢¼\n    ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",[n("span",{staticStyle:{color:"rgb(var(--vs-primary))"}},[t._v("Step 3")]),t._v(" æ–°å¢å°å·¥å…·åˆ°æ¡Œé¢\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("video",{staticClass:"demo-video",attrs:{loop:"",controls:"",autoplay:""}},[e("source",{attrs:{src:"/video/how_to_add_iOS_widget.mp4",type:"video/mp4"}})])}],!1,null,"cbf295e8",null);e.default=component.exports}}]);