(window.webpackJsonp=window.webpackJsonp||[]).push([[33,3,4,6],{355:function(e,t,r){var content=r(359);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(55).default)("674cc7b6",content,!0,{sourceMap:!1})},356:function(e,t,r){var content=r(362);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(55).default)("5dd68dc7",content,!0,{sourceMap:!1})},357:function(e,t,r){"use strict";r.r(t);var o={name:"card",props:{to:{type:String}}},n=(r(358),r(35)),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.to?"router-link":"div",{tag:"div",staticClass:"card",attrs:{to:e.to}},[e._t("default")],2)}),[],!1,null,null,null);t.default=component.exports},358:function(e,t,r){"use strict";r(355)},359:function(e,t,r){var o=r(54)(!1);o.push([e.i,".card{background:rgba(var(--vs-background),1);color:#2c3e50;color:var(--vs-text);width:100%;box-shadow:0 5px 20px 0 rgba(0,0,0,.05);box-shadow:0 5px 20px 0 rgba(0,0,0,var(--vs-shadow-opacity,.05));border-radius:8px;transition:all .25s ease;position:relative;padding:8px 12px;overflow:hidden;text-decoration:none}.card[disabled]{pointer-events:none}.card:not(.hoverable){border:1px solid rgba(var(--vs-text),.1);box-shadow:none}.card.borderless{box-shadow:none;border:none;background:transparent;padding:4px 0}.card.padding{padding:12px 16px}.card.hoverable{cursor:pointer}.card.hoverable>i{transform:translateY(25%) scale(.95)}.card.hoverable:hover{box-shadow:0 10px 20px 0 rgba(0,0,0,.05);box-shadow:0 10px 20px 0 rgba(0,0,0,var(--vs-shadow-opacity,.05));transform:translateY(-5px);color:var(--vs-text)}.card.hoverable:hover>i{opacity:.4;transform:none}.card.hoverable:active{box-shadow:0 0 0 0 transparent;box-shadow:0 0 0 0 rgba(0,0,0,var(--vs-shadow-opacity,0));transform:translateY(5px)}.card.hoverable:active>i{opacity:.4;transform:translateY(20%)}.card p{margin:0;opacity:.8;font-size:.85rem}.card p+p{margin-top:8px}.card>i{position:absolute;bottom:0;right:.1em;font-size:48px;opacity:.2;transition:all .25s ease;margin:auto;transform-origin:bottom right}",""]),e.exports=o},360:function(e,t,r){"use strict";r.r(t);var o={props:{spaceBetween:{type:Boolean,default:!1}}},n=(r(361),r(35)),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("h3",{staticClass:"card-title",class:{spaceBetween:e.spaceBetween}},[e._t("default")],2)}),[],!1,null,"33b6dba3",null);t.default=component.exports},361:function(e,t,r){"use strict";r(356)},362:function(e,t,r){var o=r(54)(!1);o.push([e.i,".card-title[data-v-33b6dba3]{line-height:18px;margin:0 0 2px;width:100%;display:flex;align-items:center;flex-direction:row;justify-content:flex-start;line-height:1.25}.card-title.spaceBetween[data-v-33b6dba3]{justify-content:space-between}",""]),e.exports=o},363:function(e,t,r){var content=r(366);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(55).default)("70d6a5f6",content,!0,{sourceMap:!1})},365:function(e,t,r){"use strict";r(363)},366:function(e,t,r){var o=r(54)(!1);o.push([e.i,".loader-container[data-v-770e7d48]{display:flex;justify-content:center;align-items:center;height:100%;margin-top:64px}.loader[data-v-770e7d48]{border-top:4px solid rgba(var(--vs-text),.1);border-radius:50%;border:4px solid rgba(var(--vs-text),.1);border-top-color:rgba(var(--vs-primary),1);width:48px;height:48px;animation:spin-data-v-770e7d48 1s linear infinite}@keyframes spin-data-v-770e7d48{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",""]),e.exports=o},368:function(e,t,r){"use strict";r.r(t);r(365);var o=r(35),component=Object(o.a)({},(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loader-container"},[t("div",{staticClass:"loader"})])}],!1,null,"770e7d48",null);t.default=component.exports},400:function(e,t,r){var content=r(447);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(55).default)("cdf49546",content,!0,{sourceMap:!1})},446:function(e,t,r){"use strict";r(400)},447:function(e,t,r){var o=r(54)(!1);o.push([e.i,'.course-items[data-v-57c0a3ee]{display:grid;grid-template-columns:1fr 1fr;grid-gap:12px;gap:12px;margin-top:8px}@media (max-width:768px){.course-items[data-v-57c0a3ee]{grid-template-columns:1fr}}.course-items .course-item[data-v-57c0a3ee]{display:grid;grid-template-areas:"info title withdraw people";grid-template-columns:auto 1fr auto auto;align-items:center;grid-gap:0 8px;gap:0 8px;padding:8px;box-shadow:0 5px 20px 0 rgba(0,0,0,.05);box-shadow:0 5px 20px 0 rgba(0,0,0,var(--vs-shadow-opacity,.05));border-radius:8px;transition:all .25s ease;background:rgba(var(--vs-background),1)}.course-items .course-item[data-v-57c0a3ee]:hover{cursor:pointer;box-shadow:0 10px 20px 0 rgba(0,0,0,.05);box-shadow:0 10px 20px 0 rgba(0,0,0,var(--vs-shadow-opacity,.05));transform:translateY(-5px);color:var(--vs-text)}.course-items .course-item[data-v-57c0a3ee]:active{box-shadow:0 0 0 0 transparent;box-shadow:0 0 0 0 rgba(0,0,0,var(--vs-shadow-opacity,0));transform:translateY(5px)}.course-items .course-item .info[data-v-57c0a3ee]{grid-area:info}.course-items .course-item .info .id[data-v-57c0a3ee]{font-size:16px;font-weight:700}.course-items .course-item .info .year-sem[data-v-57c0a3ee]{font-size:12px;opacity:.8}.course-items .course-item .title[data-v-57c0a3ee]{grid-area:title}.course-items .course-item .title .zh[data-v-57c0a3ee]{font-weight:700;font-size:16px}.course-items .course-item .title .en[data-v-57c0a3ee]{font-size:12px;opacity:.8}.course-items .course-item .people[data-v-57c0a3ee]{grid-area:people}.course-items .course-item .withdraw[data-v-57c0a3ee]{grid-area:withdraw}.course-items .course-item .people[data-v-57c0a3ee],.course-items .course-item .withdraw[data-v-57c0a3ee]{display:flex;align-items:center;justify-content:center;flex-direction:column}.course-items .course-item .people .value[data-v-57c0a3ee],.course-items .course-item .withdraw .value[data-v-57c0a3ee]{font-weight:700;font-size:16px}.course-items .course-item .people .name[data-v-57c0a3ee],.course-items .course-item .withdraw .name[data-v-57c0a3ee]{font-size:12px;opacity:.8}',""]),e.exports=o},471:function(e,t,r){"use strict";r.r(t);var o=r(6),n=(r(40),r(41),r(13),r(36),{computed:{name:function(){return this.$route.params.id}},head:function(){return{title:this.name}},data:function(){return{teacher:null,courses:null,isCourseFiltered:!1,stats:[],onError:null,selectedDepartment:localStorage.getItem("data-department")||"main"}},watch:{selectedDepartment:function(){localStorage.setItem("data-department",this.selectedDepartment),this.filterCourse()}},mounted:function(){"朴維鎮"===this.name&&this.$router.push("/not-found"),this.getTeacher()},methods:{getTeacher:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,n,c,d,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://gnehs.github.io/ntut-course-crawler-node/analytics/withdrawal-rate.json").then((function(e){return e.json()}));case 2:return n=t.sent,t.next=5,fetch("https://gnehs.github.io/ntut-course-crawler-node/analytics/withdrawal-rate-recent-3-years.json").then((function(e){return e.json()}));case 5:return c=t.sent,t.next=8,fetch("https://gnehs.github.io/ntut-course-crawler-node/analytics/withdrawal-rate-recent-5-years.json").then((function(e){return e.json()}));case 8:return d=t.sent,t.next=11,fetch("https://gnehs.github.io/ntut-course-crawler-node/analytics/withdrawal.json").then((function(e){return e.json()}));case 11:if(l=t.sent,n[e.name]){t.next=15;break}return e.onError="找不到教師",t.abrupt("return");case 15:e.teacher=l.data.filter((function(t){return t.name===e.name}))[0],e.filterCourse(),e.courses.length!=e.teacher.course.length&&(e.isCourseFiltered=!0),e.stats=[{name:"近三年退選率",value:null!==(r=c[e.name])&&void 0!==r?r:"無資料"},{name:"近五年退選率",value:null!==(o=d[e.name])&&void 0!==o?o:"無資料"},{name:"全期間退選率",value:n[e.name]}];case 19:case"end":return t.stop()}}),t)})))()},filterCourse:function(){var e=this;this.courses=this.teacher.course.filter((function(t){return t.department===e.selectedDepartment}))}}}),c=(r(446),r(35)),component=Object(c.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticStyle:{"margin-bottom":"12px"}},[e._v(e._s(e.name))]),e._v(" "),r("vs-alert",{directives:[{name:"show",rawName:"v-show",value:e.onError,expression:"onError"}],scopedSlots:e._u([{key:"title",fn:function(){return[e._v("擷取資料時發生了錯誤")]},proxy:!0}])},[e._v(" "),r("pre",[e._v(e._s(e.onError||"Error"))])]),e._v(" "),e.teacher||e.onError?e._e():r("loader"),e._v(" "),e.teacher?r("div",{staticClass:"cards",staticStyle:{"--card-row":"6","--card-row-sm":"3"}},[r("card",[r("card-title",[e._v(e._s(e.teacher.withdraw))]),e._v(" "),r("p",[e._v("退選人數")])],1),e._v(" "),r("card",[r("card-title",[e._v(e._s(e.teacher.people))]),e._v(" "),r("p",[e._v("選課人數")])],1),e._v(" "),r("card",[r("card-title",[e._v(e._s(e.teacher.course.length))]),e._v(" "),r("p",[e._v("課程數")])],1),e._v(" "),e._l(e.stats,(function(t){return r("card",{key:t.name},[r("card-title",[e._v(e._s(t.value)+"%")]),e._v(" "),r("p",[e._v(e._s(t.name))])],1)}))],2):e._e(),e._v(" "),e.teacher?r("div",{staticClass:"lr-container"},[r("div",{staticClass:"l",staticStyle:{display:"block"}},[e.teacher?r("h3",[e._v("課程")]):e._e()]),e._v(" "),r("div",{staticClass:"r"},[r("vs-button",{attrs:{flat:"",active:"main"==e.selectedDepartment},on:{click:function(t){e.selectedDepartment="main"}}},[e._v("\n        日間部\n      ")]),e._v(" "),r("vs-button",{attrs:{flat:"",active:"進修部"==e.selectedDepartment},on:{click:function(t){e.selectedDepartment="進修部"}}},[e._v("\n        進修部\n      ")]),e._v(" "),r("vs-button",{attrs:{flat:"",active:"研究所(日間部、進修部、週末碩士班)"==e.selectedDepartment},on:{click:function(t){e.selectedDepartment="研究所(日間部、進修部、週末碩士班)"}}},[e._v("\n        研究所\n      ")])],1)]):e._e(),e._v(" "),e.courses?r("div",{staticClass:"course-items"},e._l(e.courses,(function(t){return r("div",{key:t.id,staticClass:"course-item",on:{click:function(r){return e.$router.push("/course/"+t.year+"/"+t.sem+"/"+t.id)}}},[r("div",{staticClass:"info"},[r("div",{staticClass:"id"},[e._v(e._s(t.id))]),e._v(" "),r("div",{staticClass:"year-sem"},[e._v("\n          "+e._s(t.year)+" 年"+e._s("1"==t.sem?"上":"下")+"學期\n        ")])]),e._v(" "),r("div",{staticClass:"title"},[r("div",{staticClass:"zh"},[e._v(e._s(t.courseType)+" "+e._s(t.name.zh))]),e._v(" "),r("div",{staticClass:"en"},[e._v(e._s(t.name.en))])]),e._v(" "),r("div",{staticClass:"withdraw"},[r("div",{staticClass:"value"},[e._v("\n          "+e._s(t.peopleWithdraw)+"\n        ")]),e._v(" "),r("div",{staticClass:"name"},[e._v("退選")])]),e._v(" "),r("div",{staticClass:"people"},[r("div",{staticClass:"value"},[e._v("\n          "+e._s(t.people)+"\n        ")]),e._v(" "),r("div",{staticClass:"name"},[e._v("選課")])])])})),0):e._e(),e._v(" "),e.courses&&!e.courses.length?r("div",[r("p",[e._v("尚無課程，請選擇其他分類")])]):e._e(),e._v(" "),r("h3",[e._v("贊助商廣告")]),e._v(" "),r("adsbygoogle")],1)}),[],!1,null,"57c0a3ee",null);t.default=component.exports;installComponents(component,{Loader:r(368).default,CardTitle:r(360).default,Card:r(357).default})}}]);